Created by Stefano Potter 03/15/2020.
-------------------------------------------------------Files for anything associated with model training
File: prepare_all_spatial_vars.R
Local: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion_final/R
Notes: This script will take all the original spatial variables I got as detailed in Readme_BR.docx and only select the
variable related to fire weather indicies, DOB and climate NA.  All other variables I will be aquireing my self in subsequent
scripts.  This script also updates belowground combustion from a file I got from Xanthe which includes CMD estimates.

File: all_training_extraction
Location: (ee) users/spotter/default/combustion
Notes:  This script will take all the training pts from prepare_all_spatial_vars.R and extract ndvi, ndii, tasseledp cap, dnbr,
rbr, and rdnbr from harmonized landsat. It will also get pat burnd dem variable such as elevation, aspect, slope and twi.
Note that twi here was processed on cloud ops, no definitive script to link at this point.

File: fwi_extract_training.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion_final/R
Notes: This will extract all the GFWED v2.5 FWI indices for the training data

File: stand_age_training_extract.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion_final/R
Notes: This will extract all the stand ages using Beadoin/Pan/historical fires in AK (script not yet attached, but
the output of the script is linked to this R file) for the training data.

File: join_all_training.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion_final/R
Notes: This will join all the spatial files together

-------------------------------------------------------Files for anything associated with scaling
Note!!! These next series of files apply to four folders in cloud ops under combustion/R/scaling
The only difference in the scripts is they refernece differen't pixel samples, as judged by sols
burn area product.  The root combustion/R/scaling scripts apply to pixles 100% burned and 100% vegetated.
combustion/R/scaling/mixed_fire_mixed_veg is <100% burned and <100% vegetated
combustion/R/scaling/mixed_fire_pured_veg is <100% burned and 100% vegetated
combustion/R/scaling/pure_fire_mixed_veg is 100% burned and <100% vegetated
combustion/R/scaling/combined is all four of the above pixels above combined, which will be our final comparison
for the paper.  All EE scripts listed below also have files in my EE account associated with these differen't folders
except for combustion/R/scaling/combined which was not necessary.

In EE combustion/R/scaling can be referred to as original and 'pure_fire_pure_veg'. 

File: get_modis_pixels.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: This will pull out based on sols burn detection files pixels that are 100% landsat classified burned
and 100% vegetated.  200 pixels are then samples and .shp and .tif of these samples are exported, including
coordinates used for climate_na extraction. This is for the years 2004, 2006, 2012, 2014 and 2015. 

File: all_above_scenes.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: For the 200 samples pixels in get_modis_pixels.R find which landsat pixels are in the MODIS sub pixels,
since we are comparing the difference in the two scales.

File: get_all_landsat_modis_centroids.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: Convert landsat 30m resolution tiles from jwang to points and intersect with sampled landsat pixels.  
Export this file as a shp for EE and a csv, which links landsat specific ids to modis specific ids, both individual years (ID2) and all years combined (ID1). 
Landsat Ids come with landsat ID first. Also export .csv file with info for climant_na extraction for landsat.

File: join_elevation.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: Merge elevation from burnd DEM (in ee, script not attached here) into the climate na files for extraction

File: get_dob_for_samples.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: Get the DOB info from Sols files for all the sampled pixels described above

File: FWI_extract_mod_samples.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: extract all the FWI info for landsat and modis samples - Note to me, this has changed - update!!!!

File: modis_landsat_samples_cna.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: Join all the climate na data downloaded from the .exe.

File: join_all_vars_new.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: Join all the variables together such as FWI, CNA, DOB and spatial variables from EE

File: predict_samples.R
Location: (cloud ops) /mnt/data1/boreal/spotter/scripts/combustion/R/scaling
Notes: Run the predictions on the scaled data and do the bias correction with a linear model.
Export graphs of comparisons and residual plots




-------------------------------------------------------Files for anything associated with monte carl/predictions




